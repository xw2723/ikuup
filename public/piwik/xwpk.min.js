var params = [];
/**
 * 获取站内搜索关键词
 * @param paramsStr
 * @returns {*}
 */
function getSiteSearchKeyword(){
    if(appType == "web"){   //web站
        var pms = location.search.substr(1).split("&");
        for(var i=0;i<pms.length;i++){
            if(pms[i].indexOf("keyword")>=0){
                return pms[i].split("=")[1];
            }
        }
    }else{  //m站
        var paths = document.location.pathname.split("/");
        var idx = paths.indexOf("search");
        if(idx>=0){
            return paths[idx+1];
        }
    }
    return null
}

/**
 * 获取搜索引擎关键词
 * @param path
 * @returns {*}
 */
function getSearchKeyword(path){
    if(!path) return null;

    var paths = path.split("?")[1],
        typeTokey = {
            "baidu": ["wd","word"],
            "sogou": ["query"],
            "360": ["q"],
            "google": [""],
            "yahoo": [""]
        },
        searchType = getSearchSource(path) || "",
        searchKey = typeTokey[searchType] || "";

    if(paths && searchKey){
        var pms = paths.split("&");
        for(var i=0;i<pms.length;i++){
            var pmses = pms[i].split("=");
            var pasKey = pmses.shift();     //删除属性名

            for(var j=0;j<searchKey.length;j++){
                if(pasKey == searchKey[j]){
                    return pmses.join("");
                }
            }
            //if(pasKey == searchKey){
            //    return pmses.join("");
            //}
        }
    }
    return null;
}

/**
 * 获取来源搜索引擎类型
 * @param path
 * @returns {*}
 */
function getSearchSource(path){
    if(!path) return null;

    var type = "",
        source = {
            "baidu.com": "baidu",
            "sogou.com": "sogou",
            "so.com": "360",
            "google.com": "google",
            "google.co.jp": "google",
            "search.yahoo.com": "yahoo"
        };

    var url = path.split("?")[0];
    for(var key in source){
        if(url.indexOf(key)>=0){
            disposeSEParams(source[key]);
            return source[key];
        }
    }

    return null;
}

/**
 * 处理搜索引擎的特殊参数
 * @param type
 */
function disposeSEParams(type){
    switch (type){
        case "baidu":
            if(params["referrerParameter"] && params["referrerParameter"].indexOf("clk_info")>=0){
                var pms = params["referrerParameter"].split("&");
                for(var i=0;i<pms.length;i++){
                    if(pms[i].indexOf("clk_info")>=0){
                        pms[i] = "clk_info=";
                    }
                }
                params["referrerParameter"] = pms.join("&");
                params["referrerUrl"] = params["referrerDomain"] + params["referrerPath"] +"?"+ params["referrerParameter"];
            }
            break;
        case "sogou":
            break;
        case "360":
            break;
        case "google":
            break;
        case "yahoo":
            break;
    }
}

https://www.baidu.com/baidu.php?url=http://10.10.110.113:3000/&us=0.0.0.0.0.0.7&ck=8304.2.87.228.143.485.219.656&shh=10.10.110.113:3000&sht=baiduhome_pg&us=1.0.1.0.1.300.0&wd=benlai%E6%9C%AC%E6%9D%A5&issp=1&f=8&ie=utf-8&rqlang=cn&tn=baiduhome_pg&inputT=8984
